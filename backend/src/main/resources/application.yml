spring:
  datasource:
    url: ${DB_URL:jdbc:mysql://localhost:3306/sam?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
    username: ${DB_USERNAME:root}
    password: ${DB_PASSWORD:123456}
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        format_sql: true
    show-sql: false
  jackson:
    serialization:
      write-dates-as-timestamps: false
  sql:
    init:
      mode: never
server:
  port: ${PORT:8080}

security:
  jwt:
    secret: ${JWT_SECRET:devsecretkeysamterminal1234567890abcd}
    expiration: 86400000

cors:
  allowed-origins: ${CORS_ORIGINS:http://samproject.seekerhut.com,http://localhost:5173,http://localhost:4173}

app:
  upload-dir: ${UPLOAD_DIR:uploads}
  # 后台(/admin)管理员账号：支持配置多个，启动时会自动同步到数据库并赋予 ADMIN 角色。
  # 注意：此处为示例默认值，生产环境建议通过私有配置文件或环境变量覆盖。
  admins:
    - username: admin
      password: AdminPass123456
      email: admin@sam.local
    - username: operator
      password: OperatorPass123456
      email: operator@sam.local
  llm:
    min-remaining-tokens: ${APP_LLM_MIN_REMAINING_TOKENS:2000}
    min-remaining-percent: ${APP_LLM_MIN_REMAINING_PERCENT:5}
    session-timeout-minutes: ${APP_LLM_SESSION_TIMEOUT_MINUTES:30}
    request-timeout-seconds: ${APP_LLM_REQUEST_TIMEOUT_SECONDS:20}
    circuit-breaker:
      failure-threshold: ${APP_LLM_FAILURE_THRESHOLD:3}
      probe-interval-minutes: ${APP_LLM_PROBE_INTERVAL_MINUTES:10}

chroma:
  url: ${CHROMA_URL:http://localhost:8000}
