# 简介与网站地图 - S.A.M. Terminal (v1.1)

## 1. 项目简介

本项目是《崩坏：星穹铁道》流萤伴游系统的 Web 前端原型，命名为 **S.A.M. Terminal**。旨在模拟玩家（开拓者）通过萨姆机甲的终端系统与角色流萤进行连接、对话与生活交互。

### 1.1 技术栈 (Tech Stack)

#### 前端 (Frontend)
*   **框架**: React 18 + TypeScript + Vite
*   **UI 组件库**: Shadcn UI (基于 Radix UI)
*   **样式方案**: Tailwind CSS
*   **路由管理**: React Router DOM (v6)
*   **状态管理**: React Context / Hooks (推荐 Zustand)

#### 后端 (Backend)
*   **核心框架**: Java Spring Boot 3.x
    *   *用途*: 提供 RESTful API、WebSocket 服务、业务逻辑处理。
*   **AI 集成框架**: Spring AI
    *   *用途*: 在 Java 层统一对接大语言模型 (LLM)，简化 Prompt Engineering 和模型切换。
*   **数据库 (关系型)**: MySQL 8.0
    *   *用途*: 存储用户信息、聊天记录 (Chat Logs)、游戏静态数据 (地点/物品配置)、用户存档。
*   **数据库 (向量)**: ChromaDB (本地部署)
    *   *用途*: 存储流萤的长期记忆 (Long-term Memory)、知识库 (RAG)，用于检索增强生成。

### 1.2 开发注意事项

1.  **模拟数据 (Mock Data)**:
    *   当前所有业务数据（对话、地点、物品、记忆）均硬编码在 `src/lib/simulation.ts` 中。
    *   **实际开发**: 需替换为 API 调用（如 `fetch` 或 `axios`），对接后端服务。

2.  **响应式设计 (Responsive Design)**:
    *   系统需同时适配 **桌面端 (Desktop)** 和 **移动端 (Mobile)**。
    *   **断点策略**: 使用 Tailwind 的 `md:` (768px) 作为主要分界线。
        *   桌面端：宽屏展示，左侧/中间立绘，右侧聊天栏。
        *   移动端：竖屏展示，全屏立绘，底部悬浮聊天栏。

3.  **资源占位**:
    *   当前使用 CSS 渐变色和 Lucide 图标代替真实的游戏素材（背景图、角色立绘、物品 Icon）。
    *   **实际开发**: 需将 `CharacterLayer` 和 `backgroundStyle` 替换为真实的 `<img>` 或 `<video>` 标签，加载 CDN 资源。

---

## 2. 网站地图 (Sitemap)

### 2.1 / (首页/登录页)
*   **描述**: 系统的入口页面。
*   **核心功能**: 用户身份认证（登录/注册）。
*   **跳转逻辑**: 认证成功后跳转至 `/game`。

### 2.2 /game (游戏主界面)
*   **描述**: 核心交互页面，承载所有伴游功能。这是一个单页应用 (SPA) 的核心视图。
*   **核心功能**:
    *   角色互动（立绘展示、表情变化）。
    *   对话系统（与流萤或 NPC 聊天）。
    *   状态展示（地点、心情、时间）。
    *   子系统入口（地图、背包）。

### 2.3 /game/map (地图模态框)
*   **描述**: 嵌入在主界面之上的全屏/半屏模态框。
*   **核心功能**:
    *   **双层级导航**: 星域视图 (Galaxy View) -> 区域视图 (Area View)。
    *   **区域详情**: 查看区域简介、解锁状态。
    *   **移动指令**: 触发位置变更。

### 2.4 /game/inventory (背包与记忆模态框)
*   **描述**: 嵌入在主界面之上的模态框。
*   **核心功能**:
    *   **物品栏**: 展示持有的道具。
    *   **记忆回廊**: 展示 RAG (检索增强生成) 检索到的历史记忆片段。

### 2.5 /admin (后台管理入口)
*   **描述**: 管理员登录页面。
*   **核心功能**: 管理员身份验证。

### 2.6 /admin/dashboard/* (管理控制台)
*   **描述**: 受保护的后台管理区域，需登录后访问。
*   **子页面**:
    *   `/firefly`: **流萤立绘管理**。配置不同情绪下的 Live2D/图片资源。
    *   `/locations`: **区域与星球管理**。配置世界观数据，包括 UI 展示文本和 AI 专用设定。
    *   `/characters`: **角色档案管理**。配置 NPC 信息及 Prompt。
    *   `/settings`: **模型设置**。配置 LLM 连接参数 (BaseURL, API Key)。